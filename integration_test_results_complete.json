{
  "timestamp": "2025-10-01 20:31:38",
  "success_rate": 100.0,
  "total_tests": 30,
  "passed": 30,
  "failed": 0,
  "performance": {
    "total_duration_ms": 247.24245071411133,
    "avg_duration_ms": 8.241415023803711
  },
  "tests": [
    {
      "name": "1.1: Load enhanced configuration",
      "passed": true,
      "details": "Version: 2.0.0",
      "duration_ms": 157.08637237548828
    },
    {
      "name": "1.2: Get preprocessing config",
      "passed": true,
      "details": "Enabled: True",
      "duration_ms": 0.005245208740234375
    },
    {
      "name": "1.3: Get classification config",
      "passed": true,
      "details": "Ensemble: True, Threshold: 0.55",
      "duration_ms": 0.00667572021484375
    },
    {
      "name": "1.4: Get metrics config",
      "passed": true,
      "details": "Enabled: True, Window: 1000",
      "duration_ms": 0.004291534423828125
    },
    {
      "name": "1.5: Get circuit breaker config",
      "passed": true,
      "details": "Threshold: 5, Timeout: 60s",
      "duration_ms": 0.0040531158447265625
    },
    {
      "name": "2.1: Initialize Vietnamese preprocessor",
      "passed": true,
      "details": "Ready for real-time",
      "duration_ms": 5.741357803344727
    },
    {
      "name": "2.2: Normalize Vietnamese text (batch)",
      "passed": true,
      "details": "Avg: 0.139ms per text, Total: 0.69ms for 5 texts",
      "duration_ms": 0.6945133209228516
    },
    {
      "name": "2.3: Calculate confidence adjustment",
      "passed": true,
      "details": "Original: 0.850 → Adjusted: 0.850",
      "duration_ms": 0.13327598571777344
    },
    {
      "name": "3.1: Initialize toxic keyword detector",
      "passed": true,
      "details": "100+ keywords loaded",
      "duration_ms": 0.036716461181640625
    },
    {
      "name": "3.2: Detect toxic keywords (accuracy test)",
      "passed": true,
      "details": "Accuracy: 100.0%, Avg: 0.139ms per detection",
      "duration_ms": 0.5574226379394531
    },
    {
      "name": "3.3: Calculate toxicity score",
      "passed": true,
      "details": "Text: 'Đồ ngu ngốc thằng khốn' → Score: 0.979, Keywords: 2",
      "duration_ms": 0.057697296142578125
    },
    {
      "name": "3.4: is_toxic() method (main API)",
      "passed": true,
      "details": "Toxic: True, Score: 0.850, Keywords: ['đồ khốn', 'khốn nạn']",
      "duration_ms": 0.05078315734863281
    },
    {
      "name": "4.1: Initialize metrics collector",
      "passed": true,
      "details": "Singleton pattern",
      "duration_ms": 22.255659103393555
    },
    {
      "name": "4.2: Record request latencies",
      "passed": true,
      "details": "Recorded 7 latencies in 0.02ms",
      "duration_ms": 0.019311904907226562
    },
    {
      "name": "4.3: Get metrics summary",
      "passed": true,
      "details": "Total: 7 requests, Avg latency: 0.125ms",
      "duration_ms": 5.038022994995117
    },
    {
      "name": "4.4: Low-latency metrics validation",
      "passed": true,
      "details": "Simulated real-time processing < 60ms",
      "duration_ms": 0.12254714965820312
    },
    {
      "name": "5.1: Initialize circuit breaker",
      "passed": true,
      "details": "State: closed",
      "duration_ms": 36.56172752380371
    },
    {
      "name": "5.2: Check circuit breaker state",
      "passed": true,
      "details": "State: closed",
      "duration_ms": 0.01621246337890625
    },
    {
      "name": "5.3: Protected execution via call()",
      "passed": true,
      "details": "Result: 15, State: closed",
      "duration_ms": 0.0073909759521484375
    },
    {
      "name": "5.4: Async protected execution",
      "passed": true,
      "details": "Result: async_success",
      "duration_ms": 11.351585388183594
    },
    {
      "name": "6.1: Import error classes",
      "passed": true,
      "details": "All imports successful",
      "duration_ms": 0.006198883056640625
    },
    {
      "name": "6.2: Create error context",
      "passed": true,
      "details": "Type: TestError, Severity: low",
      "duration_ms": 0.015020370483398438
    },
    {
      "name": "6.3: Create AudioInputError",
      "passed": true,
      "details": "Message: Test audio error, User msg: Invalid audio input. Please ensure your microphone is working and try again.",
      "duration_ms": 0.018358230590820312
    },
    {
      "name": "7.1: Real-time configuration",
      "passed": true,
      "details": "8/8 features enabled, Batch: ASR=5, Classifier=8",
      "duration_ms": 1.531839370727539
    },
    {
      "name": "7.2: High accuracy preset (toxic detection)",
      "passed": true,
      "details": "Threshold: 0.45, Fuzzy: True",
      "duration_ms": 1.8389225006103516
    },
    {
      "name": "7.3: Low-latency preset (real-time)",
      "passed": true,
      "details": "Batch: ASR=10, Timeout: 0.03s",
      "duration_ms": 1.5974044799804688
    },
    {
      "name": "7.4: Feature toggling",
      "passed": true,
      "details": "Config flexibility validated",
      "duration_ms": 1.5411376953125
    },
    {
      "name": "8.1: Preprocessing latency (< 1ms target)",
      "passed": true,
      "details": "Avg: 0.009ms per text (30 texts in 0.26ms)",
      "duration_ms": 0.2646446228027344
    },
    {
      "name": "8.2: Toxic detection latency (< 2ms target)",
      "passed": true,
      "details": "Avg: 0.019ms per detection (30 texts in 0.58ms)",
      "duration_ms": 0.5788803100585938
    },
    {
      "name": "8.3: Metrics collection overhead (< 0.1ms target)",
      "passed": true,
      "details": "Avg: 0.0010ms per record (100 records in 0.10ms)",
      "duration_ms": 0.09918212890625
    }
  ]
}